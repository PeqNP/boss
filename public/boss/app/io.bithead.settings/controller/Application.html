<div class="ui-application">
  <script type="text/application">
    function $(this.id)(config) {
      // Contrived example showing how to close the application
      function close() {
        os.closeApplication('$(app.bundleId)');
      }
      this.close = close;

      this.openDeepLink = async function(deepLink) {
        console.log(deepLink);
        if (deepLink.path == "friends") {
          let win = await $(this.controller).loadController("Home");
          let ctrl = win.ui.show();
          await ctrl.showFriends();
        }
        else if (deepLink.path == "friends/pending-requests") {
          let win = await $(this.controller).loadController("Home");
          let ctrl = win.ui.show();
          await ctrl.showPendingRequests();
        }
      }
    }
  </script>
  <div class="ui-menus">
    <div class="ui-menu" style="width: 180px;">
      <select name="application-menu">
        <option>Settings</option>
        <option onclick="$(this.controller).close();">Close Settings</option>
      </select>
    </div>
  </div>
</div>
