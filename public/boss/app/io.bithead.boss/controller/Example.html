<div class="ui-modal">
  <script type="text/javascript">
    function $(this.id)(view) {

      /**
       * Common pattern used to close the window.
       */
      function close() {
        view.ui.close();
      }
      this.close = close;

      /**
       * Contrived example showing how to save a model.
       */
      function save() {
        // Perform some type of model saving action here...
      }
      this.save = save;

      /**
       * Configure the controller before displaying.
       */
      function configure(msg) {
        // Shows how to interact with a `p` element before display.
        view.ui.p("test-message").innerHTML = msg;
      }
      this.configure = configure;

      /**
       * Example showing how you can respond to the OS signal when the view is
       * loaded. This is called before the VC is displayed and provides a way
       * to configure the initial state of the view. Up to including loading data
       * from a server call to display before the view is displayed.
       */
      function viewDidLoad() {
        // Load data from server, etc.
      }
      this.viewDidLoad = viewDidLoad;

      /**
       * Contrived example showing how to show an info message.
       */
      async function showInfo(msg) {
        await os.ui.showInfo(msg);
        console.log("Info is hidden now");
      }
      this.showInfo = showInfo;

      /**
       * Register this window to call the specified function when the
       * "enter" or "return" key is tapped; The `didHitEnter` and default
       * action must be the same function.
       *
       * There's typically no reason to regiser `didHitEnter` if there is
       * no default button.
       */
      this.didHitEnter = save;

      /**
       * Register to listen for key input events. These are sent to the
       * controller from the OS.
       */
      this.didHitKey = function (key) {
        console.log(`Hit key (${key})`);
      }

      /**
       * Register event listeners. These are sent to the controller
       * from the OS.
       */
      this.events = {
        "io.bithead.boss.debug": async function (ev) {
          console.log(`Application (${ev})`);
        }
      };
    }
  </script>
  <div class="ui-menus">
    <div class="ui-menu" style="width: 180px;">
      <select name="user-menu">
        <option>File</option>
        <option onclick="$(this.controller).save();">Save</option>
        <option class="group"></option>
        <option onclick="$(this.controller).delete();" value="delete">Delete</option>
        <option onclick="$(this.controller).cancel();">Cancel</option>
      </select>
    </div>
  </div>
  <div class="top">
    <div class="close-button"></div>
    <!-- Window titles must be wrapped in <span> for proper styling -->
    <div class="title"><span>Title</span></div>
    <!-- Fullscreen the window (ID: Zoom) -->
    <div class="zoom-button"></div>
  </div>
  <div class="container vbox gap-10">
    <!-- Show an error message. -->
    <div class="error">
      <p class="message">This is an error message.</p>
    </div>

    <!-- Show an info message. -->
    <div class="info">
      <p class="message">This is an info message.</p>
    </div>

    <!-- (ID: Message) -->
    <p class="test-message"></p>

    <!-- Display list of options. Allows only one option to be selected. -->
    <div class="ui-list-box" style="width: 200px;">
      <select name="option">
        <option value="opt1">Option 1</option>
        <option value="opt2" disabled>Option 2</option>
        <option value="opt3">Option 3</option>
      </select>
    </div>

    <!-- List of options, where multiple may be selected at once. -->
    <div class="ui-list-box" style="width: 200px;">
      <select name="option" multiple>
        <option value="opt1">Option 1</option>
        <option value="opt2" disabled>Option 2</option>
        <option value="opt3">Option 3</option>
      </select>
    </div>

    <!-- List of options, where each option is treated as a button. -->
    <div class="ui-list-box buttons" style="width: 200px;">
      <select name="option" multiple>
        <option value="button1" onclick="$(this.controller).showInfo('Button 1 was tapped');">Button 1</option>
        <option value="button2" onclick="$(this.controller).showInfo('Button 2 was tapped');" disabled>Button 2</option>
        <option value="button3" onclick="$(this.controller).showInfo('Button 3 was tapped');">Button 3</option>
      </select>
    </div>

    <!-- Pop-up menu shows a list of options. -->
    <div class="ui-popup-menu" style="width: 160px;">
      <label for="option">Option</label>
      <select name="option">
        <option value="">Select one</option>
        <option value="opt1">Option 1</option>
        <option value="opt2" disabled>Option 2</option>
      </select>
    </div>

    <!-- Small controls usually used for scrolling. -->
    <div class="little-controls">
      <button class="up"></button>
      <button class="down"></button>
    </div>

    <!-- Progress bar. Use only if there are at least two operations to process. -->
    <div id="op-bar" class="ui-progress-bar" style="width: 200px;">
      <div class="title">Performing operation...</div>
      <div class="ui-progress-container">
        <div class="ui-progress">4</div>
      </div>
    </div>

    <!-- Progress bar with indeterminate amount. Use this if unsure how long a process will take. -->
    <div class="ui-progress-bar indeterminate" style="width: 200px;">
      <div class="title">Performing operation...</div>
      <div class="ui-progress-container">
        <div class="ui-progress"></div>
      </div>
    </div>

    <!-- Example showing how to display a message in the body of a window. -->
    <p>If you believe you have reached this in error, please contact <a href="tel:$(os.phone)">$(os.phone)</a>.</p>

    <!-- When showing a form, where a model, or models, should be saved, display controls in this format. -->
    <div class="controls">
      <!-- Secondary button. Not used in forms. Usage is TBD -->
      <button class="secondary" onclick="$(this.controller).close();">OK</button>
      <!-- Primary button. Any action that is not the default action. -->
      <button class="primary" onclick="$(this.controller).close();">Cancel</button>
      <!-- Default button. Use only one default button. The default button and didHitEnter callback must reference the same function. -->
      <button class="default" onclick="$(this.controller).save();">Save</button>
    </div>

    <!-- UI Element Mappings for Code Generation:
         When using UI elements, always interact via their corresponding UI class APIs instead of direct DOM manipulation.

         - ui-list-box: UIListBox class. Access via view.ui.select("name").ui.removeAllOptions(), .addNewOptions([{id, name}, ...])
         - ui-popup-menu: UIPopupMenu class. Similar to UIListBox for select operations.
         - ui-progress-bar: UIProgressBar class. Use .setProgress(value) to update.
         - Other elements follow similar patterns; check ui.js for full API details.
    -->
  </div>
</div>
